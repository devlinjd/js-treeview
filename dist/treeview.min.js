/**
 * js-treeview - TreeView implemented with vanilla JavaScript
 * @version v1.1.1
 * @link https://github.com/justinchmura/js-treeview
 * @license MIT
 */
!function(e){"use strict";!function(t,n){"function"==typeof e&&e.amd?e(n):"object"==typeof exports?module.exports=n():t.TreeView=n()}(window,function(){return function(){function e(e,t,a){this.handlers={},this.node=t,this.data=e,this.opts=a,n(this)}function t(e,t,n){var a,r=e.length;for(a=0;r>a;a+=1)t.call(n,e[a],a)}function n(e){var n,r=document.getElementById(e.node),o=[],s=function(n,a){var r=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div");if(r.setAttribute("class","tree-leaf leaf-"+a),n.data&&r.setAttribute("data-data",n.data),i.setAttribute("class","tree-leaf-content"),i.setAttribute("data-item",JSON.stringify(n)),o.setAttribute("class","tree-leaf-text"),o.innerHTML=n.name,l.setAttribute("class","tree-expando expanded"),l.innerHTML=e.opts.expanded||"+",i.appendChild(l),i.appendChild(o),r.appendChild(i),n.children.length>0){var d=document.createElement("div");d.setAttribute("class","tree-child-leaves"),t(n.children,function(e){var t=s(e,a+1);d.appendChild(t)}),r.appendChild(d)}else l.classList.add("hidden");return r};t(e.data,function(t){o.push(s.call(e,t,0))}),r.innerHTML=o.map(function(e){return e.outerHTML}).join(""),n=function(t){var n=(t.currentTarget||t.target).parentNode,r=JSON.parse(n.getAttribute("data-item")),o=n.parentNode.querySelector(".tree-child-leaves");o&&(o.classList.contains("hidden")?e.expand(n,o):e.collapse(n,o)),a(e,"select",{target:t,data:r}),i!==n.parentNode&&(null!==i&&i.classList.remove("selected"),i=n.parentNode,i.classList.add("selected"))},t(r.querySelectorAll(".tree-leaf-text"),function(e){e.onclick=n}),t(r.querySelectorAll(".tree-expando"),function(e){e.onclick=n})}function a(e,n){var a=[].slice.call(arguments,2);if(!(r.indexOf(n)>-1))throw new Error(n+" event cannot be found on TreeView.");e.handlers[n]&&e.handlers[n]instanceof Array&&t(e.handlers[n],function(e){window.setTimeout(function(){e.callback.apply(e.context,a)},0)})}var r=["expand","collapse","select"],i=null;return e.prototype.expand=function(e,t){var n=e.querySelector(".tree-expando");n.innerHTML=this.opts.expanded||"+",t.classList.remove("hidden"),a(this,"expand",{target:e,leaves:t})},e.prototype.collapse=function(e,t){var n=e.querySelector(".tree-expando");n.innerHTML=this.opts.collapsed||"-",t.classList.add("hidden"),a(this,"collapse",{target:e,leaves:t})},e.prototype.on=function(e,t,n){if(!(r.indexOf(e)>-1))throw new Error(e+" is not supported by TreeView.");this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push({callback:t,context:n})},e.prototype.off=function(e,t){var n,a=!1;this.handlers[e]instanceof Array&&(this.handlers[e].forEach(function(e,r){n=r,e.callback!==t||a||(a=!0)}),a&&this.handlers[e].splice(n,1))},e}()})}(window.define);